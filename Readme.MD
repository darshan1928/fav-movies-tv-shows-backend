# ğŸ¬ Favorite Movies & TV Shows â€“ Backend

This is the **backend** of the Favorite Movies & TV Shows Web Application, designed to handle authentication and CRUD operations for movie/show entries. Built with **Node.js**, **Express**, **MySQL**, **Prisma**, and **Zod** validation.

---

## ğŸ—‚ï¸ Folder Structure

```bash
backend/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ schema.prisma
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/              # DB and JWT configurations
â”‚   â”‚   â”œâ”€â”€ db.js
â”‚   â”‚   â””â”€â”€ jwt.js
â”‚   â”œâ”€â”€ controllers/         # Request handlers
â”‚   â”œâ”€â”€ middlewares/         # Auth, validation, and error middleware
â”‚   â”œâ”€â”€ models/              # Prisma data models (if extended)
â”‚   â”œâ”€â”€ routes/              # Route definitions
â”‚   â”œâ”€â”€ services/            # Business logic layer
â”‚   â”œâ”€â”€ utils/               # Utilities
â”‚   â””â”€â”€ validations/         # Zod validation schemas
â”‚       â””â”€â”€ auth.validation.js
â”‚       â””â”€â”€ entry.validation.js
â”œâ”€â”€ app.js                   # Express app setup
â”œâ”€â”€ server.js                # Entry point
â”œâ”€â”€ .env                     # Environment config
â”œâ”€â”€ package.json
â””â”€â”€ README.md                # This file
```

---

## âš™ï¸ Tech Stack

* **Node.js** + **Express**
* **MySQL** with **Prisma ORM**
* **Zod** for validation
* **JWT** for authentication
* **dotenv** for environment variables
* **CORS** and security middleware

---

## ğŸš€ Setup Instructions

### 1. Clone the repository

```bash
git clone <your-backend-repo-url>
cd fav-movies-tv-shows-backend
```

### 2. Install dependencies

```bash
npm install
```

### 3. Set up your `.env` file

Create a `.env` file at the root of the project:

```env
PORT=8000
DATABASE_URL="mysql://username:password@localhost:3306/dbname"
JWT_SECRET="your_jwt_secret"
CLIENT_URL=http://localhost:5173
```

Update with your credentials.

### 4. Run Prisma migrations

```bash
npx prisma migrate dev --name init
npx prisma generate
```

### 5. Start the server

```bash
npm run dev
```

The server will run on `http://localhost:8000`

---

## ğŸ”‘ Authentication Endpoints

| Method | Route            | Description       |
| ------ | ---------------- | ----------------- |
| POST   | /api/auth/signup | Register new user |
| POST   | /api/auth/login  | Login user        |
| GET    | /api/auth/me     | Current user info |

---

## ğŸ“¦ Entry Routes (Protected)

| Method | Route             | Description              |
| ------ | ----------------- | ------------------------ |
| GET    | /api/entries      | List entries (paginated) |
| POST   | /api/entries      | Add new entry            |
| PUT    | /api/entries/:id | Edit entry               |
| DELETE | /api/entries/:id | Delete entry             |

Use JWT stored in HTTP-only cookies.

---

## âœ… Features

* ğŸ‘¤ Authentication with JWT
* ğŸ” HTTP-only cookie-based session
* ğŸ“„ Validation with Zod (via `auth.validation.js`, `entry.validation.js`)
* ğŸ“ Scalable service/controller structure
* ğŸ§± MySQL & Prisma for DB layer
* âš ï¸ Centralized error handling


---

## ğŸ” CORS Setup

In `app.js`, CORS is configured to allow your frontend domain:

```js
app.use(cors({
  origin: process.env.CLIENT_URL,
  credentials: true
}));
```

Update `CLIENT_URL` in `.env` to match deployed frontend URL (e.g. Vercel).

---

## ğŸ“… Frontend Repo

If youâ€™re looking for the frontend:

> [Frontend Repo](https://github.com/darshan1928/Favorite-Movies-TV-Shows-Web-Application.git) 

---


Happy coding! âœ¨
